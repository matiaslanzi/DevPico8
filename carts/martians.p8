pico-8 cartridge // http://www.pico-8.com
version 36
__lua__
--main
function _init()
	gravity = 0.3
	friction = 0.8

	create_bg()
	create_player()
	create_enemy()
end

function _update()
 if(btn(⬅️)) p.dx-=p.acc
	if(btn(➡️)) p.dx+=p.acc
	-- if(btnp(⬆️)) y-=1
	-- if(btnp(⬇️)) y+=1

	update_stars()
	update_player()
end

function _draw()
 cls()
	draw_bg()
	draw_player()
	draw_enemy()
end
-->8
--background
function create_bg()
	stars={}
	numstars=100

	for i=1, numstars do
		add(stars,{
		x=rnd(128),
		y=rnd(128),
		spd=flr(rnd(3)+1)
	 })
	end
end

function update_stars()
	for star in all (stars) do
		star.y += star.spd
		if star.y > 128 then
			star.y = 0
			star.x = rnd(128)
		end
	end
end

function draw_bg()
	for star in all (stars) do
		pset(star.x, star.y, 5)
	end
end

-->8
--player
function create_player()
	p={}

	p.x=64
	p.y=110
	p.dx=0
	p.dy=0
	p.acc=.9
end

function update_player()
	p.dx *= friction

	p.x+=p.dx
	p.y+=p.dy
end

function draw_player()
	spr(1,p.x,p.y,2,2)
end


-->8
--enemy
function create_enemy()
	e={}
	e.x=20
	e.y=20
	e.dx=0
	e.dy=0
end

function update_enemy()
	e.dx *= friction

	e.x+=p.dx
	e.y+=p.dy
end

function draw_enemy()
	spr(5,e.x,e.y)
	spr(21,e.x + 16,e.y)
	spr(37,e.x + 32,e.y)
	spr(53,e.x + 64,e.y)
end
-->8
__gfx__
00000000000000088000000000000000000000000007070000060600000707000000000000000000000000000000000000000000000000000000000000000000
000000000000000d600000000000000000000000007c7c7000767670007c7c700000000000000000000000000000000000000000000000000000000000000000
009009000000000d600000000000000000000000b0b737b000b737bb00b737b00000000000000000000000000000000000000000000000000000000000000000
000aa000000000d6660000000000000000000000033bb33b0333b330b333bb300000000000000000000000000000000000000000000000000000000000000000
000aa000000000d666000000006660000000000000b00b30b03b0b30003b00bb0000000000000000000000000000000000000000000000000000000000000000
00000000000000d666000000006666d000000000003bb3000003b3000003bb300000000000000000000000000000000000000000000000000000000000000000
0000000000000d677660000000666c7d000000000303303000300030003033030000000000000000000000000000000000000000000000000000000000000000
0000000000000d67766000000066c777600000000b0000b000b000b000b0000b0000000000000000000000000000000000000000000000000000000000000000
000000000000d6c77c660000055566666666d0000007070000060600000707000000000000000000000000000000000000000000000000000000000000000000
09000090008d66c55c6668008966566666666668007d7d7000767670007d7d700000000000000000000000000000000000000000000000000000000000000000
0090090000d666c55c66660089665666ddd000009097479000974799009747900000000000000000000000000000000000000000000000000000000000000000
000990000d655665566556600555dddd800000000449944904449440944499400000000000000000000000000000000000000000000000000000000000000000
00000000d65665655656656600000000000000000090094090490940004900990000000000000000000000000000000000000000000000000000000000000000
00000000d65665655656656600000000000000000049940000049400000499400000000000000000000000000000000000000000000000000000000000000000
00000000005995000059950000000000000000000404404000404040004044040000000000000000000000000000000000000000000000000000000000000000
00000000000880000008800000000000000000000900009000900090009000090000000000000000000000000000000000000000000000000000000000000000
90000009660000000000000000000896000004960007070000060600000707000000000000000000000000000000000000000000000000000000000000000000
00000000550000000000000000000000000000000073737000767670007373700000000000000000000000000000000000000000000000000000000000000000
0000000055000000000000000000000000000000e0e727e000e727ee00e727e00000000000000000000000000000000000000000000000000000000000000000
0000000099000000000000000000000000000000022ee22e0222e220e222ee200000000000000000000000000000000000000000000000000000000000000000
000000008800000000000000000000000000000000e00e20e02e0e20002e00ee0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000002ee2000002e2000002ee200000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000202202000200020002022020000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000e0000e000e000e000e0000e0000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000007070000060600000707000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000074747000767670007474700000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000a0a797a000a797aa00a797a00000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000099aa99a0999a990a999aa900000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000a00a90a09a0a90009a00aa0000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000009aa9000009a9000009aa900000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000909909000900090009099090000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000a0000a000a000a000a0000a0000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000009000000000009900000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000990000000000000099000000009a900000000000000000000000000000000
00000000000000000000000000000000000000000000000000000090000000000009a990000099000009a99000009a9000000000000000000000000000000000
000000000000000000000000000000000000000000000000009909a90900000000009aa90909a90000009aa90909aa9000000000000000000000000000000000
000000000000000000000000000000000000000009000000009a999a9a90990000009a7a9a9aa90000999a7aa7aa7a9000000000000000000000000000000000
0000000000000000000000000900000000000000aa0000000009aaa7a7a9a90000099aa7a7a7a90009aaaaa7a777a90000000000000000000000000000000000
0000000a0a0000000000000a0a0000000000000a7a9000000009a7a7aa7a90000009a7a7aa7a90009a9a77a7aa7a900000000000000000000000000000000000
00000a0a00a0000000000a0aa0a00000000009aa7aaa000000009a7777a9000000909a7777a900009909a77777a9000000000000000000000000000000000000
000000a7aa000000000000a77a000000000000a7777a0000000009a77a7a9000000099a77a7a900009909a77777a900000000000000000000000000000000000
0000000aaaa000000000009a7aa000000000009a77a9000000009a7aa7a9000000009a7aa7aa900009a99a7aa7a9000000000000000000000000000000000000
000000a00a0000000000000a0a0000000000000aaaa0000000009aa99a90000000009aa7aa99a900009a77a7aa7a900000000000000000000000000000000000
00000000000000000000000009a00000000000009000000000009a90090000000009a99a990099000009aa9a7aaaa90000000000000000000000000000000000
000000000000000000000000000000000000000000000000000009000000000000000900a900000000009909a9999a9000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000990000000000009a9000099000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000900000000000990000900000000000000000000000000000000000
