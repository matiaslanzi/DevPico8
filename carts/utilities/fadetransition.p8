pico-8 cartridge // http://www.pico-8.com
version 36
__lua__
-- fizzlefade
--
-- algorithm from
-- antirez.com/news/113

function new_fizzlefader()
 local x = 0
 local y = 0
 local c = 1
 local x2 = 0
 local y2 = 0
 local f = {}
 f.step = function()
  -- next pixel
  if x < 127 then
   x += 1
  elseif y < 127 then
   x = 0
   y += 1
  else
   x = 0
   y = 0
   c = c + 1
   if c > 15 then
    c = 0
   end
  end
  
  -- function for feistel
  -- transform
  --
  -- this is the transform
  -- from antirez's page, but
  -- the final binary and is
  -- 0x7f instead of 0xff to
  -- match pico-8's drawable
  -- range of 0,127
  function f(n)
   n = bxor((n*11)+shr(n,5)+7*127,n)
   n = band(n,0x7f)
   return n
  end
  
  -- permute with feistel net
  -- use x2 as "left", y2 as
  -- "right"
  x2=x
  y2=y
  for round=1,8 do
   next_x2=y2
   y2=bxor(x2,f(y2))
   x2=next_x2
  end
  -- no need for a final
  -- recomposition step
  -- in our case:
  -- we just use x2 and y2
  -- (l and r) directly
 end
 f.draw = function()
  pset(x2,y2,c)
 end
 return f
end

cls(0)
f = new_fizzlefader()

function _draw()
 for i=0,255 do
  f.draw()
  f.step()
 end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
33222322223222222222222333222322233223223332232322333222323223332332233233222222332222232232222223232222232232322223232332323322
23323323222232233232232223322323322233332332233322233322223222232223232223232323323222323232222222223223232223222322223232233323
32322232222223333322222222232332223323222232222322322232322233332233232322222223223323223223223323323232332222222232222232332322
33222222222333332322223332333332223322333322322322333323322322223322332332232223323222322223323333222232333223223233222323223222
23233332222322233232322222222222232223322333222322232222223322222322222233222232233223222322223223322332223332232323333232232223
22223222222323222222232333323333222222332223323222222322332222222223232223322222223332232323223322333222232232322332323222223322
22223322322332223232222223222323223322233323222222232333232233322223232222323322333232323222222322323233222232232332232222222333
33232322333322232223223322232232232232232232222333223332332222232333322232232223232222223232322233222222223332222332332232233323
23232232232223322322223222222332332322233322233232233322223333223222232233233223222222233223232222232322332232323322232323322322
33232333322222323233232233222223323323233222233333223233222223222232222323323322222222232322332233323332332322323332333223222322
32233322222322332223233223332222232232333222232223222223222233333323232323223233233222233232223233323233233222233322323323322222
23232233232332323232233222232322232223322323222232222322333323332233323223322232233233232323232233232333232223323232232323322323
22233232233332322333232223232233322233332223232222233322332222233223333223222232333322222323322222222232332333222322332322323333
32223322222233222322232322322322222333223333233333232333323222232323222232222232323322322322223223223222233232323322322332322223
22333222223223233323223322322232223223332322323223323233223323222223223222223333332222232232322333223232323232322232223222323323
32322322222333322322223332223333222233232332222332232222223223322233333233222333332322223333333323232222323223222223322232322222
23323222223222323232233332232232323232222233233232323222222223332222233222223232322332232322233223223232232232232223222323233322
33322222232222232332223223223232222323233332323223232322233233232333223222232223222322223323222322232332323222223322232232232223
33323332232233322332233323322232222333232222222223323223322223322223322323233332333322323222222322233322232323232222322232333223
33322223322332222322233222323222233232222222223323233322333332232232322232232222333232222222232232323222222322322323222222223223
22232232222232232222332222322223332322223232332332222323222332322223332232333222232233222233232333222223332222332333232332223223
23332332323223233223322223232332233233332232232222232232223322223232232232222233332222222322332332232332222233222232233222232222
23223322232323222322332222222323223332222323323233223222233232232223322222222222332232223333222322222332323233223332233222233222
22222222322322223332222222322232222333322322233223222322233223323232323222233322233223232323322332322223332232322322332232232222
23323222222222332222223233322322332232333233322232232222322332222323322232223332223223232333232322232222232232232233323232223322
22323222222223222332322333222322222223323323232322233322223223222222223222222322223222333233233223232323233232222232233322223232
23222232333323222232223332223222222233233322323223332232223333322322232233232322233223333323233322333223222232222233222332232222
22322332323223333222233322232222233322332223323233323333222223332233233222232332222322222232323222332223232223323223222232332223
32322223232222222222222232222332232232333322322233222332232223323223332322322232322322323233323332323322233322233222222233223332
22332233322223222222222223222323223332222222232222222223222332322322223222322332333322322232333222323322233232322222233322322332
22333323222232233322223233323322232223222232322222232323222323222232332233232322232232233222332332333222323223333332222222223222
33323332233233322333223223332222332232223222222222232222222232332223233332223232322222223233232222232232322223322232322332233332
32223323323323232322333223233332322232332232333233223322232223322232333222222332233222323322332332322232322323323222233223332233
22232323222323233233322232332323332332223233232233223223333233233322223223333223322322222332333332322323232233323323223222233233
23223222333232232222233222233232222232322333322222322222223232222323223233223232232322222233322323323222223232322322222223232232
33322233322222333322222223332232322222332332222222223322222333232333223333232322322222222323223223223233223323322322332333223232
23322323323233232323222333222222222222233323223323222322322222222222323333222322232223222322332332222322232323332332232322222232
33222333232332232233222323323232222233223323222333322223332232232323223222223322223323233233323233232332232333232222233232233333
32223232223323333222333222322233233332223222332223222233322322232323232322322222333222333323223322233222232222222323322232223222
22322222223222222322223322332232222222233232222223222223222223222223223232333232333323222322232232232333332233223222222323222332
32222222322322233223222333222222223322322332232232233332323322232333222232222233233233222223333223223222323322222232322323232322
23333323322223223233232232332222332223232323222333222232322222223332323333233323332232222233333322223222222232233332332222323332
23222233222323322332332222323332232233222323332222232233222233323233223232322333322322323233222223233222332323322322222222222322
32323223322332232223223223223232233332222333233232332232232333333223322332322323333222222332322232233232222322233333222322223323
32233223333233323222233222232223332223322223223322233333222222223322323333322223322232323233233223232223223323232222232222223222
32323232222232332323332233223322233322222323332323332332232223223233332223323332222322222232232232332233323222332223222233233233
32322323332223223233222223223332222223333322222222223322222223322222222232232222222322322332223233222222222223322323322322332223
33222333223222232233332333332323323222332322222332223322223233232223232333222222223322233223233322322223323223322323333222323332
23322332332322323322333232322233223332232322232232223223222322332323323232322222232222233233323322233333322322333223222223332233
23233332222222323232232333232332322233332222233322322323222332232323332232332222332233323322322232222222223322322222233332232222
23322232223322223223222222323223333232223322332232322223322332332322322222232223232232233223323322222333323223323232333322322322
23322222233332222322322332223332322222322332223332332233332322332223233322333233332322322233323223322322333223222233332232233323
22233322232323322233232223332222322232332232232222232323222223332222233332232332232322223333232323223322232222332323223233223322
23232232323222232233323322222333222233232232232232323333233222332232323222333323222322332322223222323332222222233232322223232223
32323222233332223222333233323323232223322223233233322223323322333323232332332233323223333332322232222223333223332332223322233232
22332322233223222323322322323322223223323222323223322323222232223323322332232232223322222222222232223222222233332222332323322233
33232233333222223323223232233223323222232222222233232232322222323323332322322322222222222332333222222233323332322323322222322223
22232223332222322322222232322232333232223223322223322333323222223223322232223332332223322322223232232233233322232323322323323332
23223333222232223232232232223233223222332322222233222232333333332233322323232232322222332323322222333222322323223333232233223333
22232222233222232322222322232232332323322332323332322333332222333223222323332322323233222232323233332222322233223233222222322223
33232322322322323332322222332223233222222223232332323232223232232232232322323333333323222322222332332323223223323333223222232233
22222332332333222222223223233323333233222223222223233223222223222222232222232232322222322222222223322232223223222233332232333223
32223222333223222232322223222323322322222222322232223223223222232323333233232333223223222322223223222222332222223322322232222222
33222332232223232322323232222223223233323222323232332232222223232332222322222223332332232222232322332322222323322222222333322333
22332322332232222323223323322232322323223223232322322222233223223233222233222223322232232232222232223332222223223232223332322332
23232233322232332323333322322333223222323332222223332322232333233223233332233232223322332332232322222322332223223222233233222333
22222332322322223333333322222323232232232222222222322222222223233332323222233222222223322232233222233322322222322322222222323332
23322323232332333233333223323232233323233322232223322223332222232233222232232322223322322223323332332233332223222233223222222322
22232223322322233323232332232222222323222233223323233223322223222232333323323233222332222222232323223223222222223222233222322222
22333333322322222323333332333332322322322233222323322233332233222333332323322232332333323233223322232322222233223233322332322223
22332323222223223223232232222222233223222223222233232233323232223322323222223223332322223223332233232333323322233223322222322333
32322332222232222333332332322222222232223223333322322333222223222222222233332322232223322323323322222222322322233233332222232222
23322223332223332233232333232322323222232323322233222233332332332332222222222333232222333323232332332222222332222222222222223222
22223223332222332222222333323222222222322322223222233222232322232223222222232322323333222222222222223322232232332233333233223223
22222223332232222222222322322222223222332233322223233332223232332223233223233333232222332222332222223232322233322233232332233322
22332222232232233223222232223322323322233333323323333322232222223223232223233233232232333232233233232233233333233222222322222233
22322232232323223323322232322332333322223332332222223223233332222323222332333332333222223223232222222222322233232332332322322332
23322322222332233322323222333222223223222233322232232333322223232332223223222223322323333323232222322233323232223332322332222233
22323322333222233222222323223323233223222322223222322223233222332332323333322232233223333323232222223332322333223222322332332323
22322223333332223222332323323233322322322233322232332233232222222323332323223333322232332222222322232223232223333222222223332322
22332222233232222322223323222232332232232233232233323322332332222232232232232233333332333233222232332333222222222232222233332233
33223222222233233232223323233323233222322232233222333332223323232223233332222232233332223222322233232232222332223222323232322322
22222333333323233222322332322223332222333222322332222232322222222233222223222332222332333222223222232333322232223222322333233223
22223222322333323223232323323333232323323322323222232322232233222332232332223222222222223232323323223232333232233232222223332322
22232232333332222232222232222333322222323333222222223232333233323233233222233232233232332222323223233223323333222233233233332233
23322232232222222232322232223222332222233323233232332222333323232323232322222232333323332332322223332222332222223222332222322223
22223322323223323332233223232222333332322333332233223233222323233322333222322232332332223232222222222233232232333333223322322222
32322223333233223322322222333232323222333222232332332233233323222233222333333322233322332222322222222222233222232322332223233233
22222222233322323322232232222323233322332222223222222332332233233233322233222233333333222223223332222332232322322323222333233322
32332222233222223323322222223332223223322222333333222222322223333232232323233222322233322223223223322233222333223322332233223223
22322223223223232322333322322323223233332322332332223233232223222323232333323322233223223322232332222322223323233323333223233232
32322232233322222332223322223323333332332222222222232323333223223322323333223222233332333222323222323323222222232233232222333223
22222233323222222332322332322333233222233222332323322323223233322223233222332322232332222332322222232233322232322333233322333222
33233222332233222223323232232232232333223322333323223222323322322222322322323322332223233233223332232322232233222232322322222232
22222232332233332223222332333233332333222223322223222232333232332332233322322332222222223222223222233322322322223222322222332222
32232233332333223233223232222223223333322333323322232233222322233223323322223232222223322323223322322222223222233223222222332223
22323333223222232223223233232223233222223332232323222322222223223323322323323223233322232233222323322222322322233232233322222222
23222322232222222223232222222223232232222223222232322333232332222223322323232223323332222322222333222223232223322223223223233322
32323332222223333322232322223323322232222223232222333332233223222323323323223232333223223223222333332232222232322233222223223322
23323332232232232332223222223223222222322232332322223232223322333223332223333322222333332223222222332232332222232232322233223233
33223322332322322222322323322222322233232332323233223233222222332222332232223323232222233222232232332322323233222233232222222232
23232222333232222332322232232233232222333322322323222233333222223332223232232222232323333323323333322222233222322232232222222222
32233332323232223332222222322223322223322222222322222223322223322232222232332322232323222222233222223223232333223222233223322223
23222222322222222223223222222232322232322223322233232222233232332222332322223232333223233322223222323222332233232223232223322222
33222232322223222223222322322222322322223223333222233232233332233233322232222322223223222223223323223222233222322322233323232323
22322323232222222323332332323222332223223233223222222223233232233222232222222323232232232322233322222333332232222232233222222222
33222233223232223323233223222222222323322223333222332222332322332322332223332233322222333232222323322232233322322333232222323322
33323332223222332322232332233232332322233332222232222222222332323322222333322322232223323332223222322232322322223322222332233232
22223232223222223333223222222322332222323332232223223322232322322232322232222333233322233322222232222232332223333223333223233232
23233223222332332332333232222222232322333233222222223332232323232322232323232322322223222222322232222222232233323322323232232232
23222323222222223233223322233232332232232233222322223322223222322222332222232233223323332222232233223222222332222332332232332332
32333322332233232222223222232323232223322332233223233233232222233232222323223232322232232332323332233233323222323233322222223222
22232223333322322322332322222222223222333222222222233322333222222223333232323223222232322323333332323223223233223322322233322322
23222223333232332322233323223232323233332233323223332322233333222223322223232322223322233332222223222222332322222332223233223333
23233323332223223222322222222223223322222322332322223323232223222322223223322232232232222333232232332222223232323323322222232223
32222223323233232333223322233222223332322333333322232222233233222222333223322232232233332322222232222322223332233332222322222232
22233232223333233232233233323222222332223323223233332222232233222232223323232222223222332333222322323233323222322222222223322232
22333232222322223232222233233323222322322323232223222233222222322222322232232232332333322223233332233222332323232322233323232222
32223232223222222332322223222222223223322222322333322322233223223223223223322223223233232333223232332232333223323222233223322332
22222233323222222233232323232233222323332233322223232332323322332232222322322332233323322322322322323222322323223223232322322222
22323223223322323223222223233322222232333333223322323332223322323332222222322222333222323233232232233232322322222232232322233233
23223223333222323222232222323222333222333223332333223222332332222232333232322232232233222332322223222323222323223323332332223232
32322233223233222323322332233333232222223233232323232323232332233323322223222233222232233223332333223223333222322232323223222222
32322233232233323233223322322223223222332223332322322322233322323222222323232223223323223233222222323332323232222333322223222223
22223222232222232232233322322233222223233233223322333223232323332233332233233333223332222322222223333323232223322222222232332232
22223332223322233222233323333222223233322332322323223332333322332322223222223222223233223232222222233222323333332232232333223233
22232222332333223222232322322323223322223322322222223333222233232232222223222232322323322322332223323232222333232332223232322232
23232323222223323232222233222233223222222232322233323322233322323233332233223222222232222322222222323322222323232322222222223323

